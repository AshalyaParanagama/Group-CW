<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Quality Education</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" contents = "IE=edge">
        <meta name = "viewport" content="width=device-width, initial-scale=1.0">
        <!--To include the navigation bar, please put the code starting from here in the head section-->
        <link rel="stylesheet" href="index files/styles.css">
        <link id = "navigationBar" rel="import" href="topbar.html">
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Anton+SC&display=swap');
        </style>
        <script> // Navigation bar integration script starts here. Please enter this script in the head section to make it appear on your webpage
            document.addEventListener("DOMContentLoaded", function() {
                fetch('topbar.html')
                    .then(response => response.text())
                    .then(data => {
                        document.querySelector('.topnav').innerHTML = data;
                    })
                    .catch(error => console.error('Error fetching the topbar:', error));
        //Navigation bar integration script ends here-->
        //To include the navigation bar, please put the code from the previous mentioned start point to here in the head section
                function animateNumber(elementId, start, end, duration) {
                    let range = end - start;
                    let current = start;
                    let increment = end > start ? 1000000 : -1000000;
                    let stepTime = Math.abs(Math.floor(duration / range));
                    let obj = document.getElementById(elementId);
                    console.log('Animating number for element:', obj);
                    if (!obj) {
                        console.error('Element not found:', elementId);
                        return;
                    }
                    let timer = setInterval(() => {
                        current += increment;
                        obj.textContent = current.toLocaleString(); // Format the number with commas
                        if (current == end) {
                            clearInterval(timer);
                        }
                    }, stepTime);
                };

                // Intersection Observer to trigger animation when in view by the user
                const observerOptions = {
                    root: null,
                    rootMargin: '0px',
                    threshold: 0.1
                };

                const observerCallback = (entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            if (entry.target.id === 'war-affected') {

                                animateNumber('war-affected', 0, 468000000, 5000);
                            } 

                            else if (entry.target.id === 'out-of-school') {

                                animateNumber('out-of-school', 0, 250000000, 5000);
                            }

                            else if(entry.target.id === 'poverty'){

                                animateNumber('poverty', 0, 385000000, 5000);
                            }

                            else if(entry.target.id === 'malnutrition'){

                                animateNumber('malnutrition', 0, 390000000, 5000);
                            }
                            observer.unobserve(entry.target); // Stop observing after animation
                        }
                    });
                };

                const observer = new IntersectionObserver(observerCallback, observerOptions);
                observer.observe(document.getElementById('war-affected'));
                observer.observe(document.getElementById('out-of-school'));
                observer.observe(document.getElementById('poverty'));
                observer.observe(document.getElementById('malnutrition'));
            });

        </script>    
    </head>
    <body>
        <div class ="topbar"> <!--Navigation Bar starts here. Please enter this topbar class in your body to make it appear in your webpage-->
            <div class="topnav">
              </div>
        </div><!--Navigation bar ends here-->
        <div class = "main1"><!--Main1 container starts here-->
            <div class ="main1.1">
                <div class = "logo">
                    <img src = "index files/img/EDUQUEST2.png">
                </div>
                <div class = "intro">
                    <img src = "index files/img/intro-img.jpg">
                    <div class = "intro-text">
                        <p style="font-size: 90px;">Everyone Deserves an education</p>
                    </div>
                </div>
            </div>
        </div>
        <div class = "main2">
            <img src = "index files/img/world-map.png">
            <div class = "mission">
                <p style="text-align: center; font-size: 90px;">"Our mission is to enable educators with tools and resources to inspire student success"</p>
            </div>
        </div>
        <div class = "main3">
            <img src = "index files/img/World-conflicts.jpg" url ="https://acleddata.com/conflict-index/#map" width = "50%">
            <div class = "war-summary">
                <h1>As of 2024, </h1>
                <br>
                    <p><strong><span id = "war-affected">468,000,000</span></strong> children have been affected by war</p>
                    <p><strong><span id = "out-of-school">250,000,000</span></strong> children are out-of-school</p>
                    <p><strong><span id = "poverty">385,000,000</span></strong> children are affected by extreme poverty</p>
                    <p><strong><span id = "malnutrition">390,000,000</span></strong> children are affected by malnutrition</p>
                </div>
            <div class="back-to-top" id="bottom">
                <h4><a href="#" class="top"> â†‘ Back to Top </a></h4>
            </div>
        </div>
        <div class = "footer">
            <div class = "page-editor">
                <p>This page is created by <a href = "student2-page-editor.html"> Buwaneka Ravindhu Kaluarachchi</a></p>
            </div>
        </div>

    </body>
</html>
